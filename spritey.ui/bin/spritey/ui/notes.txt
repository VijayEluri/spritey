
private int nextPowerOfTwo(int value) {
    return 1 << 32 - Integer.numberOfLeadingZeros(value - 1);
}

private int previousPowerOfTwo(int value) {
    return 1 << 31 - Integer.numberOfLeadingZeros(value);
}

private boolean isPowerOfTwo(int value) {
    return (value & -value) == value;
}
